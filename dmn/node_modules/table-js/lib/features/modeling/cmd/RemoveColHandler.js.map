{"version":3,"file":"RemoveColHandler.js","names":["RemoveColHandler","constructor","sheet","elementFactory","_sheet","_elementFactory","execute","context","col","root","oldRoot","oldIndex","cols","indexOf","Error","id","removeCol","getRoot","revert","addCol","$inject"],"sources":["../../../../src/features/modeling/cmd/RemoveColHandler.js"],"sourcesContent":["\n/**\n * A handler that implements column deletion.\n */\nexport default class RemoveColHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet;\n\n    let {\n      col\n    } = context;\n\n    const root = context.oldRoot = col.root;\n\n    // retrieve and remember previous col position\n    const oldIndex = context.oldIndex = root.cols.indexOf(col);\n\n    if (oldIndex === -1) {\n      throw new Error(`col#${col.id} not in sheet`);\n    }\n\n    sheet.removeCol(col);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      col,\n      oldIndex\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.addCol(col, oldIndex);\n\n    return sheet.getRoot();\n  }\n\n}\n\n\nRemoveColHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];"],"mappings":"AACA;AACA;AACA;AACA,eAAe,MAAMA,gBAAN,CAAuB;EAEpCC,WAAW,CAACC,KAAD,EAAQC,cAAR,EAAwB;IACjC,KAAKC,MAAL,GAAcF,KAAd;IACA,KAAKG,eAAL,GAAuBF,cAAvB;EACD;EAED;AACF;AACA;;;EACEG,OAAO,CAACC,OAAD,EAAU;IAEf,MAAML,KAAK,GAAG,KAAKE,MAAnB;IAEA,IAAI;MACFI;IADE,IAEAD,OAFJ;IAIA,MAAME,IAAI,GAAGF,OAAO,CAACG,OAAR,GAAkBF,GAAG,CAACC,IAAnC,CARe,CAUf;;IACA,MAAME,QAAQ,GAAGJ,OAAO,CAACI,QAAR,GAAmBF,IAAI,CAACG,IAAL,CAAUC,OAAV,CAAkBL,GAAlB,CAApC;;IAEA,IAAIG,QAAQ,KAAK,CAAC,CAAlB,EAAqB;MACnB,MAAM,IAAIG,KAAJ,CAAW,OAAMN,GAAG,CAACO,EAAG,eAAxB,CAAN;IACD;;IAEDb,KAAK,CAACc,SAAN,CAAgBR,GAAhB;IAEA,OAAON,KAAK,CAACe,OAAN,EAAP;EACD;EAGD;AACF;AACA;;;EACEC,MAAM,CAACX,OAAD,EAAU;IAEd,MAAM;MACJC,GADI;MAEJG;IAFI,IAGFJ,OAHJ;IAKA,MAAML,KAAK,GAAG,KAAKE,MAAnB;IAEAF,KAAK,CAACiB,MAAN,CAAaX,GAAb,EAAkBG,QAAlB;IAEA,OAAOT,KAAK,CAACe,OAAN,EAAP;EACD;;AAhDmC;AAqDtCjB,gBAAgB,CAACoB,OAAjB,GAA2B,CACzB,OADyB,EAEzB,gBAFyB,CAA3B"}