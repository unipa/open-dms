{"version":3,"file":"SelectionBehavior.js","names":["SelectionBehavior","constructor","elementRegistry","eventBus","renderer","selection","_elementRegistry","_renderer","_selection","on","id","element","get","select","row","currentSelection","deselect","col","$inject"],"sources":["../../../src/features/selection/SelectionBehavior.js"],"sourcesContent":["/**\r\n * Selects table cells on on left & right click.\r\n */\r\nexport default class SelectionBehavior {\r\n\r\n  constructor(elementRegistry, eventBus, renderer, selection) {\r\n    this._elementRegistry = elementRegistry;\r\n    this._renderer = renderer;\r\n    this._selection = selection;\r\n\r\n    eventBus.on([ 'cell.click', 'cell.contextmenu' ], ({ id }) => {\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      selection.select(element);\r\n    });\r\n\r\n    eventBus.on('row.remove', ({ row }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (row === currentSelection.row) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n\r\n    eventBus.on('col.remove', ({ col }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (col === currentSelection.col) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\nSelectionBehavior.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer',\r\n  'selection'\r\n];"],"mappings":"AAAA;AACA;AACA;AACA,eAAe,MAAMA,iBAAN,CAAwB;EAErCC,WAAW,CAACC,eAAD,EAAkBC,QAAlB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;IAC1D,KAAKC,gBAAL,GAAwBJ,eAAxB;IACA,KAAKK,SAAL,GAAiBH,QAAjB;IACA,KAAKI,UAAL,GAAkBH,SAAlB;IAEAF,QAAQ,CAACM,EAAT,CAAY,CAAE,YAAF,EAAgB,kBAAhB,CAAZ,EAAkD,CAAC;MAAEC;IAAF,CAAD,KAAY;MAC5D,MAAMC,OAAO,GAAGT,eAAe,CAACU,GAAhB,CAAoBF,EAApB,CAAhB;;MAEA,IAAI,CAACC,OAAL,EAAc;QACZ;MACD;;MAEDN,SAAS,CAACQ,MAAV,CAAiBF,OAAjB;IACD,CARD;IAUAR,QAAQ,CAACM,EAAT,CAAY,YAAZ,EAA0B,CAAC;MAAEK;IAAF,CAAD,KAAa;MACrC,MAAMC,gBAAgB,GAAGV,SAAS,CAACO,GAAV,EAAzB;;MAEA,IAAI,CAACG,gBAAL,EAAuB;QACrB;MACD;;MAED,IAAID,GAAG,KAAKC,gBAAgB,CAACD,GAA7B,EAAkC;QAChCT,SAAS,CAACW,QAAV;MACD;IACF,CAVD;IAYAb,QAAQ,CAACM,EAAT,CAAY,YAAZ,EAA0B,CAAC;MAAEQ;IAAF,CAAD,KAAa;MACrC,MAAMF,gBAAgB,GAAGV,SAAS,CAACO,GAAV,EAAzB;;MAEA,IAAI,CAACG,gBAAL,EAAuB;QACrB;MACD;;MAED,IAAIE,GAAG,KAAKF,gBAAgB,CAACE,GAA7B,EAAkC;QAChCZ,SAAS,CAACW,QAAV;MACD;IACF,CAVD;EAWD;;AAxCoC;AA4CvChB,iBAAiB,CAACkB,OAAlB,GAA4B,CAC1B,iBAD0B,EAE1B,UAF0B,EAG1B,UAH0B,EAI1B,WAJ0B,CAA5B"}