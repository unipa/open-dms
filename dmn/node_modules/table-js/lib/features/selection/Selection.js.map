{"version":3,"file":"Selection.js","names":["isString","Selection","constructor","elementRegistry","eventBus","renderer","_elementRegistry","_eventBus","_renderer","_selection","undefined","on","select","element","get","oldSelection","fire","selection","deselect","hasSelection","$inject"],"sources":["../../../src/features/selection/Selection.js"],"sourcesContent":["import { isString } from 'min-dash';\n\n\n/**\n * Allows selecting a table cell. Selected cell will be highlighted.\n */\nexport default class Selection {\n\n  constructor(elementRegistry, eventBus, renderer) {\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._renderer = renderer;\n\n    this._selection = undefined;\n\n    eventBus.on('diagram.clear', () => {\n      this._selection = undefined;\n    });\n  }\n\n  /**\n   * Select a table cell.\n   *\n   * @param {Object|String} element - Element or element ID.\n   */\n  select(element) {\n\n    if (isString(element)) {\n      element = this._elementRegistry.get(element);\n    }\n\n    const oldSelection = this._selection;\n\n    // don't re-select already selected *Ggg*\n    if (oldSelection === element) {\n      return;\n    }\n\n    this._selection = element;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: element\n    });\n  }\n\n  /**\n   * Deselect a table cell.\n   */\n  deselect() {\n\n    const oldSelection = this._selection;\n\n    this._selection = undefined;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: this._selection\n    });\n\n  }\n\n  /**\n   * Get the selected cell.\n   */\n  get() {\n    return this._selection;\n  }\n\n  /**\n   * Check if a cell is selected.\n   */\n  hasSelection() {\n    return !!this._selection;\n  }\n}\n\nSelection.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'renderer'\n];"],"mappings":"AAAA,SAASA,QAAT,QAAyB,UAAzB;AAGA;AACA;AACA;;AACA,eAAe,MAAMC,SAAN,CAAgB;EAE7BC,WAAW,CAACC,eAAD,EAAkBC,QAAlB,EAA4BC,QAA5B,EAAsC;IAC/C,KAAKC,gBAAL,GAAwBH,eAAxB;IACA,KAAKI,SAAL,GAAiBH,QAAjB;IACA,KAAKI,SAAL,GAAiBH,QAAjB;IAEA,KAAKI,UAAL,GAAkBC,SAAlB;IAEAN,QAAQ,CAACO,EAAT,CAAY,eAAZ,EAA6B,MAAM;MACjC,KAAKF,UAAL,GAAkBC,SAAlB;IACD,CAFD;EAGD;EAED;AACF;AACA;AACA;AACA;;;EACEE,MAAM,CAACC,OAAD,EAAU;IAEd,IAAIb,QAAQ,CAACa,OAAD,CAAZ,EAAuB;MACrBA,OAAO,GAAG,KAAKP,gBAAL,CAAsBQ,GAAtB,CAA0BD,OAA1B,CAAV;IACD;;IAED,MAAME,YAAY,GAAG,KAAKN,UAA1B,CANc,CAQd;;IACA,IAAIM,YAAY,KAAKF,OAArB,EAA8B;MAC5B;IACD;;IAED,KAAKJ,UAAL,GAAkBI,OAAlB;;IAEA,KAAKN,SAAL,CAAeS,IAAf,CAAoB,mBAApB,EAAyC;MACvCD,YADuC;MAEvCE,SAAS,EAAEJ;IAF4B,CAAzC;EAID;EAED;AACF;AACA;;;EACEK,QAAQ,GAAG;IAET,MAAMH,YAAY,GAAG,KAAKN,UAA1B;IAEA,KAAKA,UAAL,GAAkBC,SAAlB;;IAEA,KAAKH,SAAL,CAAeS,IAAf,CAAoB,mBAApB,EAAyC;MACvCD,YADuC;MAEvCE,SAAS,EAAE,KAAKR;IAFuB,CAAzC;EAKD;EAED;AACF;AACA;;;EACEK,GAAG,GAAG;IACJ,OAAO,KAAKL,UAAZ;EACD;EAED;AACF;AACA;;;EACEU,YAAY,GAAG;IACb,OAAO,CAAC,CAAC,KAAKV,UAAd;EACD;;AApE4B;AAuE/BR,SAAS,CAACmB,OAAV,GAAoB,CAClB,iBADkB,EAElB,UAFkB,EAGlB,UAHkB,CAApB"}