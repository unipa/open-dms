{"version":3,"file":"ValidatedInput.js","names":["Component","Input","ValidatedInput","constructor","props","context","validate","value","validationWarning","undefined","state","onInput","bind","onKeyDown","onKeyUp","componentWillReceiveProps","setState","isValid","event","target","render","placeholder","type","className","parentClasses","join","inputClasses","push"],"sources":["../../src/components/ValidatedInput.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"],"mappings":"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"}