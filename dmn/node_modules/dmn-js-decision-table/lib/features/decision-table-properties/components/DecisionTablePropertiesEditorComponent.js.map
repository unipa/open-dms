{"version":3,"file":"DecisionTablePropertiesEditorComponent.js","names":["Component","EditableComponent","inject","mixin","classNames","SelectionAware","DecisionTablePropertiesComponent","constructor","props","context","forceUpdate","name","modeling","editDecisionTableName","componentWillMount","setupChangeListeners","bind","getBusinessObject","id","componentWillUnmount","unbind","changeSupport","offElementsChanged","onElementsChanged","sheet","getRoot","businessObject","$parent","render","bo","HitPolicy","components","getComponent","NullComponent","resetScroll","setDecisionTableName","$inject","DecisionTableName","_translate","injector","get","value","className","getSelectionClasses","getClassName","getEditor","elementId","coords","event","target","scroll"],"sources":["../../../../src/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nimport {\r\n  inject,\r\n  mixin,\r\n  classNames,\r\n  SelectionAware\r\n} from 'table-js/lib/components';\r\n\r\n\r\nexport default class DecisionTablePropertiesComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setupChangeListeners({ bind: this.getBusinessObject().id });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getBusinessObject().id\r\n    });\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    if (typeof unbind === 'string') {\r\n      this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  getBusinessObject() {\r\n    return this.sheet.getRoot().businessObject.$parent;\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  setDecisionTableName = (name) => {\r\n    this.modeling.editDecisionTableName(name);\r\n  };\r\n\r\n  render() {\r\n    const bo = this.getBusinessObject();\r\n\r\n    const { name } = bo;\r\n\r\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\r\n\r\n    return (\r\n      <div className=\"decision-table-properties\">\r\n        <DecisionTableName\r\n          className=\"decision-table-name\"\r\n          value={ name }\r\n          ctrlForNewline={ true }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionTableName }\r\n          elementId={ '__decisionProperties_name' }\r\n          coords={ '0:__decisionProperties' }\r\n        />\r\n        <div className=\"decision-table-header-separator\" />\r\n        <HitPolicy />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDecisionTablePropertiesComponent.$inject = [\r\n  'sheet',\r\n  'modeling',\r\n  'changeSupport',\r\n  'components'\r\n];\r\n\r\n\r\nclass DecisionTableName extends EditableComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._translate = context.injector.get('translate');\r\n\r\n    mixin(this, SelectionAware);\r\n  }\r\n\r\n  render() {\r\n\r\n    const name = this.props.value;\r\n\r\n    const className = classNames(\r\n      this.getSelectionClasses(),\r\n      this.getClassName()\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={ className }\r\n        data-element-id={ this.props.elementId }\r\n        data-coords={ this.props.coords }\r\n        title={ this._translate('Decision Name: ') + name }\r\n      >\r\n        { this.getEditor() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction NullComponent() {\r\n  return null;\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n"],"mappings":"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"}