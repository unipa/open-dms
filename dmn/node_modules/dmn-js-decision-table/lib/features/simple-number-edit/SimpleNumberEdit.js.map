{"version":3,"file":"SimpleNumberEdit.js","names":["InputNumberEdit","OutputNumberEdit","isInput","isOutput","SimpleNumberEdit","constructor","components","simpleMode","registerProvider","element","typeRef","getTypeRef","col","isNumber","onGetComponent","context","contextMenuType","$inject","businessObject","inputExpression","numberTypes","includes"],"sources":["../../../src/features/simple-number-edit/SimpleNumberEdit.js"],"sourcesContent":["import InputNumberEdit from './components/InputNumberEdit';\r\nimport OutputNumberEdit from './components/OutputNumberEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleNumberEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      const typeRef = getTypeRef(element);\r\n\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && isNumber(typeRef);\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (isNumber(typeRef)) {\r\n\r\n          if (isInput(context.element.col)) {\r\n            return InputNumberEdit;\r\n          } else if (isOutput(context.element.col)) {\r\n            return OutputNumberEdit;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleNumberEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}\r\n\r\nconst numberTypes = [\r\n  'number',\r\n  'integer',\r\n  'long',\r\n  'double'\r\n];\r\n\r\nfunction isNumber(typeRef) {\r\n  return numberTypes.includes(typeRef);\r\n}\r\n"],"mappings":"AAAA,OAAOA,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,gBAAgB,MAAM,+BAA+B;AAE5D,SAASC,OAAO,EAAEC,QAAQ,QAAQ,kCAAkC;AAEpE,eAAe,MAAMC,gBAAgB,CAAC;EACpCC,WAAW,CAACC,UAAU,EAAEC,UAAU,EAAE;IAClCA,UAAU,CAACC,gBAAgB,CAACC,OAAO,IAAI;MACrC,MAAMC,OAAO,GAAGC,UAAU,CAACF,OAAO,CAAC;MAEnC,OAAO,CAACP,OAAO,CAACO,OAAO,CAACG,GAAG,CAAC,IAAIT,QAAQ,CAACM,OAAO,CAACG,GAAG,CAAC,KAChDC,QAAQ,CAACH,OAAO,CAAC;IACxB,CAAC,CAAC;IAEFJ,UAAU,CAACQ,cAAc,CAAC,cAAc,EAAE,YAAkB;MAAA,IAAjBC,OAAO,uEAAG,CAAC,CAAC;MACrD,IAAIA,OAAO,CAACC,eAAe,IAAID,OAAO,CAACC,eAAe,KAAK,kBAAkB,EAAE;QAE7E,IAAI,CAACD,OAAO,CAACN,OAAO,EAAE;UACpB;QACF;QAEA,MAAMC,OAAO,GAAGC,UAAU,CAACI,OAAO,CAACN,OAAO,CAAC;QAE3C,IAAII,QAAQ,CAACH,OAAO,CAAC,EAAE;UAErB,IAAIR,OAAO,CAACa,OAAO,CAACN,OAAO,CAACG,GAAG,CAAC,EAAE;YAChC,OAAOZ,eAAe;UACxB,CAAC,MAAM,IAAIG,QAAQ,CAACY,OAAO,CAACN,OAAO,CAACG,GAAG,CAAC,EAAE;YACxC,OAAOX,gBAAgB;UACzB;QAEF;MAEF;IACF,CAAC,CAAC;EACJ;AACF;AAEAG,gBAAgB,CAACa,OAAO,GAAG,CAAE,YAAY,EAAE,YAAY,CAAE;;AAGzD;;AAEA,SAASN,UAAU,CAACF,OAAO,EAAE;EAC3B,IAAIP,OAAO,CAACO,OAAO,CAACG,GAAG,CAAC,EAAE;IACxB,OAAOH,OAAO,CAACG,GAAG,IAAIH,OAAO,CAACG,GAAG,CAACM,cAAc,CAACC,eAAe,CAACT,OAAO;EAC1E,CAAC,MAAM;IACL,OAAOD,OAAO,CAACG,GAAG,IAAIH,OAAO,CAACG,GAAG,CAACM,cAAc,CAACR,OAAO;EAC1D;AACF;AAEA,MAAMU,WAAW,GAAG,CAClB,QAAQ,EACR,SAAS,EACT,MAAM,EACN,QAAQ,CACT;AAED,SAASP,QAAQ,CAACH,OAAO,EAAE;EACzB,OAAOU,WAAW,CAACC,QAAQ,CAACX,OAAO,CAAC;AACtC"}