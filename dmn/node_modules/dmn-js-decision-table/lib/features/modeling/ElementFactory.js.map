{"version":3,"file":"ElementFactory.js","names":["is","BaseElementFactory","ElementFactory","constructor","dmnFactory","_dmnFactory","create","tType","attrs","businessObject","type","additionalAttrs","col","Error","id","$inject"],"sources":["../../../src/features/modeling/ElementFactory.js"],"sourcesContent":["import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport BaseElementFactory from 'table-js/lib/core/ElementFactory';\n\n\n\nexport default class ElementFactory extends BaseElementFactory {\n\n  constructor(dmnFactory) {\n    super();\n\n    this._dmnFactory = dmnFactory;\n  }\n\n  create(tType, attrs) {\n\n    const dmnFactory = this._dmnFactory;\n\n    let { businessObject, type, ...additionalAttrs } = attrs;\n\n    if (!businessObject) {\n\n      if (!type) {\n\n        if (tType === 'root') {\n          type = 'dmn:DecisionTable';\n        } else if (tType === 'cell') {\n          let {\n            col\n          } = additionalAttrs;\n\n          if (is(col, 'dmn:OutputClause')) {\n            type = 'dmn:LiteralExpression';\n          }\n\n          if (is(col, 'dmn:InputClause')) {\n            type = 'dmn:UnaryTests';\n          }\n        }\n\n        if (!type) {\n          throw new Error('cannot guess <type>');\n        }\n      }\n\n      businessObject = dmnFactory.create(type);\n    }\n\n    return super.create(tType, {\n      businessObject,\n      id: businessObject.id,\n      ...additionalAttrs\n    });\n  }\n\n}\n\nElementFactory.$inject = [ 'dmnFactory' ];\n"],"mappings":";;;;;;;;AAAA,SAASA,EAAE,QAAQ,kCAAkC;AAErD,OAAOC,kBAAkB,MAAM,kCAAkC;AAIjE,eAAe,MAAMC,cAAc,SAASD,kBAAkB,CAAC;EAE7DE,WAAW,CAACC,UAAU,EAAE;IACtB,KAAK,EAAE;IAEP,IAAI,CAACC,WAAW,GAAGD,UAAU;EAC/B;EAEAE,MAAM,CAACC,KAAK,EAAEC,KAAK,EAAE;IAEnB,MAAMJ,UAAU,GAAG,IAAI,CAACC,WAAW;IAEnC,IAAMI,cAAc,GAA+BD,KAAK,CAAlDC,cAAc;MAAEC,IAAI,GAAyBF,KAAK,CAAlCE,IAAI;MAAKC,eAAe,4BAAKH,KAAK;IAExD,IAAI,CAACC,cAAc,EAAE;MAEnB,IAAI,CAACC,IAAI,EAAE;QAET,IAAIH,KAAK,KAAK,MAAM,EAAE;UACpBG,IAAI,GAAG,mBAAmB;QAC5B,CAAC,MAAM,IAAIH,KAAK,KAAK,MAAM,EAAE;UAC3B,IACEK,GAAG,GACDD,eAAe,CADjBC,GAAG;UAGL,IAAIZ,EAAE,CAACY,GAAG,EAAE,kBAAkB,CAAC,EAAE;YAC/BF,IAAI,GAAG,uBAAuB;UAChC;UAEA,IAAIV,EAAE,CAACY,GAAG,EAAE,iBAAiB,CAAC,EAAE;YAC9BF,IAAI,GAAG,gBAAgB;UACzB;QACF;QAEA,IAAI,CAACA,IAAI,EAAE;UACT,MAAM,IAAIG,KAAK,CAAC,qBAAqB,CAAC;QACxC;MACF;MAEAJ,cAAc,GAAGL,UAAU,CAACE,MAAM,CAACI,IAAI,CAAC;IAC1C;IAEA,OAAO,KAAK,CAACJ,MAAM,CAACC,KAAK;MACvBE,cAAc;MACdK,EAAE,EAAEL,cAAc,CAACK;IAAE,GAClBH,eAAe,EAClB;EACJ;AAEF;AAEAT,cAAc,CAACa,OAAO,GAAG,CAAE,YAAY,CAAE"}