{"version":3,"file":"DurationInput.js","names":["Component","ValidatedInput","validateDuration","ERROR_MESSAGE","yearMonthDuration","dayTimeDuration","DurationInput","constructor","props","context","_translate","injector","get","_type","type","onInput","bind","validate","state","value","setState","_getPlaceholder","sample","render","className"],"sources":["../../../../src/features/simple-duration-edit/components/DurationInput.js"],"sourcesContent":["import { Component } from 'inferno';\n\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\n\nimport { validateDuration } from '../Utils';\n\nconst ERROR_MESSAGE = {\n  yearMonthDuration: 'Must match PnYnM.',\n  dayTimeDuration: 'Must match PnDTnH.'\n};\n\n\nexport class DurationInput extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this._translate = context.injector.get('translate');\n    this._type = props.type;\n\n    this.onInput = this.onInput.bind(this);\n    this.validate = this.validate.bind(this);\n\n    this.state = {\n      value: props.value\n    };\n  }\n\n  onInput({ value }) {\n    this.setState({\n      value\n    });\n\n    this.props.onInput(value);\n  }\n\n  validate(value) {\n    if (!validateDuration(this._type, value)) {\n      return this._translate(ERROR_MESSAGE[this._type]);\n    }\n  }\n\n  _getPlaceholder() {\n    if (this._type === 'yearMonthDuration') {\n      return this._translate('e.g. { sample }', { sample: 'P1Y2M' });\n    } else if (this._type === 'dayTimeDuration') {\n      this._translate('e.g. { sample }', { sample: 'P1DT2H' });\n    }\n  }\n\n  render() {\n    return (\n      <ValidatedInput\n        type=\"text\"\n        onInput={ this.onInput }\n        placeholder={ this._getPlaceholder() }\n        validate={ this.validate }\n        value={ this.state.value }\n        className={ this.props.className }\n      />\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAOC,cAAc,MAAM,6CAA6C;AAExE,SAASC,gBAAgB,QAAQ,UAAU;AAE3C,MAAMC,aAAa,GAAG;EACpBC,iBAAiB,EAAE,mBAAmB;EACtCC,eAAe,EAAE;AACnB,CAAC;AAGD,OAAO,MAAMC,aAAa,SAASN,SAAS,CAAC;EAC3CO,WAAW,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAErB,IAAI,CAACC,UAAU,GAAGD,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;IACnD,IAAI,CAACC,KAAK,GAAGL,KAAK,CAACM,IAAI;IAEvB,IAAI,CAACC,OAAO,GAAG,IAAI,CAACA,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC;IACtC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC;IAExC,IAAI,CAACE,KAAK,GAAG;MACXC,KAAK,EAAEX,KAAK,CAACW;IACf,CAAC;EACH;EAEAJ,OAAO,OAAY;IAAA,IAATI,KAAK,QAALA,KAAK;IACb,IAAI,CAACC,QAAQ,CAAC;MACZD;IACF,CAAC,CAAC;IAEF,IAAI,CAACX,KAAK,CAACO,OAAO,CAACI,KAAK,CAAC;EAC3B;EAEAF,QAAQ,CAACE,KAAK,EAAE;IACd,IAAI,CAACjB,gBAAgB,CAAC,IAAI,CAACW,KAAK,EAAEM,KAAK,CAAC,EAAE;MACxC,OAAO,IAAI,CAACT,UAAU,CAACP,aAAa,CAAC,IAAI,CAACU,KAAK,CAAC,CAAC;IACnD;EACF;EAEAQ,eAAe,GAAG;IAChB,IAAI,IAAI,CAACR,KAAK,KAAK,mBAAmB,EAAE;MACtC,OAAO,IAAI,CAACH,UAAU,CAAC,iBAAiB,EAAE;QAAEY,MAAM,EAAE;MAAQ,CAAC,CAAC;IAChE,CAAC,MAAM,IAAI,IAAI,CAACT,KAAK,KAAK,iBAAiB,EAAE;MAC3C,IAAI,CAACH,UAAU,CAAC,iBAAiB,EAAE;QAAEY,MAAM,EAAE;MAAS,CAAC,CAAC;IAC1D;EACF;EAEAC,MAAM,GAAG;IACP;MAAA,QAES,MAAM;MAAA,WACD,IAAI,CAACR,OAAO;MAAA,eACR,IAAI,CAACM,eAAe,EAAE;MAAA,YACzB,IAAI,CAACJ,QAAQ;MAAA,SAChB,IAAI,CAACC,KAAK,CAACC,KAAK;MAAA,aACZ,IAAI,CAACX,KAAK,CAACgB;IAAS;EAGtC;AACF"}