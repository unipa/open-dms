{"version":3,"file":"InputEditingProvider.js","names":["closest","domClosest","InputCell","InputCellContextMenu","InputCellProvider","constructor","components","contextMenu","eventBus","renderer","onGetComponent","cellType","context","contextMenuType","on","event","input","target","node","getBoundingClientRect","left","top","open","x","y","align","$inject"],"sources":["../../../../src/features/decision-table-head/editor/InputEditingProvider.js"],"sourcesContent":["import {\n  closest as domClosest\n} from 'min-dom';\n\nimport InputCell from './components/InputCell';\nimport InputCellContextMenu from './components/InputCellContextMenu';\n\n\nexport default class InputCellProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'input-header') {\n        return InputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'input-edit'\n      ) {\n        return InputCellContextMenu;\n      }\n    });\n\n    eventBus.on('input.edit', ({ event, input }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'input-edit',\n        input\n      });\n    });\n  }\n\n}\n\nInputCellProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];"],"mappings":"AAAA,SACEA,OAAO,IAAIC,UAAU,QAChB,SAAS;AAEhB,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,oBAAoB,MAAM,mCAAmC;AAGpE,eAAe,MAAMC,iBAAiB,CAAC;EAErCC,WAAW,CAACC,UAAU,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IAEvDH,UAAU,CAACI,cAAc,CAAC,MAAM,EAAE,QAAkB;MAAA,IAAfC,QAAQ,QAARA,QAAQ;MAC3C,IAAIA,QAAQ,KAAK,cAAc,EAAE;QAC/B,OAAOT,SAAS;MAClB;IACF,CAAC,CAAC;IAEFI,UAAU,CAACI,cAAc,CAAC,cAAc,EAAE,YAAkB;MAAA,IAAjBE,OAAO,uEAAG,CAAC,CAAC;MACrD,IACEA,OAAO,CAACC,eAAe,KAAK,YAAY,EACxC;QACA,OAAOV,oBAAoB;MAC7B;IACF,CAAC,CAAC;IAEFK,QAAQ,CAACM,EAAE,CAAC,YAAY,EAAE,SAAsB;MAAA,IAAnBC,KAAK,SAALA,KAAK;QAAEC,KAAK,SAALA,KAAK;MACvC,MAAQC,MAAM,GAAKF,KAAK,CAAhBE,MAAM;MAEd,MAAMC,IAAI,GAAGjB,UAAU,CAACgB,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC;MAE3C,8BAAsBC,IAAI,CAACC,qBAAqB,EAAE;QAA1CC,IAAI,yBAAJA,IAAI;QAAEC,GAAG,yBAAHA,GAAG;MAEjBd,WAAW,CAACe,IAAI,CAAC;QACfC,CAAC,EAAEH,IAAI;QACPI,CAAC,EAAEH,GAAG;QACNI,KAAK,EAAE;MACT,CAAC,EAAE;QACDZ,eAAe,EAAE,YAAY;QAC7BG;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AAEF;AAEAZ,iBAAiB,CAACsB,OAAO,GAAG,CAC1B,YAAY,EACZ,aAAa,EACb,UAAU,EACV,UAAU,CACX"}