{"version":3,"file":"OutputCellContextMenu.js","names":["Component","OutputEditor","inject","OutputCellContextMenu","constructor","props","context","output","unsaved","state","modeling","updateProperties","setState","changes","persistChanges","debounceInput","getValue","attr","get","render","handleChange","$inject"],"sources":["../../../../../src/features/decision-table-head/editor/components/OutputCellContextMenu.js"],"sourcesContent":["import { Component } from 'inferno';\n\nimport OutputEditor from './OutputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class OutputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n  }\n\n  persistChanges = () => {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    this.modeling.updateProperties(output, unsaved);\n\n    this.setState({\n      unsaved: false\n    });\n  };\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    return unsaved && attr in unsaved ? unsaved[attr] : output.get(attr);\n  }\n\n  render() {\n    return (\n      <OutputEditor\n        name={ this.getValue('name') }\n        label={ this.getValue('label') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nOutputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling'\n];"],"mappings":";;;;;;AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,SACEC,MAAM,QACD,yBAAyB;AAGhC,eAAe,MAAMC,qBAAqB,SAASH,SAAS,CAAC;EAE3DI,WAAW,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAAC,wCASP,MAAM;MACrB,MAAQC,MAAM,GAAK,IAAI,CAACF,KAAK,CAACC,OAAO,CAA7BC,MAAM;MAEd,MAAQC,OAAO,GAAK,IAAI,CAACC,KAAK,CAAtBD,OAAO;MAEf,IAAI,CAACA,OAAO,EAAE;QACZ;MACF;MAEA,IAAI,CAACE,QAAQ,CAACC,gBAAgB,CAACJ,MAAM,EAAEC,OAAO,CAAC;MAE/C,IAAI,CAACI,QAAQ,CAAC;QACZJ,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC;IAAA,sCAEeK,OAAO,IAAK;MAC1B,IAAI,CAACD,QAAQ,CAAC;QACZJ,OAAO,kCACF,IAAI,CAACC,KAAK,CAACD,OAAO,GAClBK,OAAO;MAEd,CAAC,EAAE,IAAI,CAACC,cAAc,CAAC;IACzB,CAAC;IA9BC,IAAI,CAACL,KAAK,GAAG,CAAC,CAAC;IAEfP,MAAM,CAAC,IAAI,CAAC;IAEZ,IAAI,CAACY,cAAc,GAAG,IAAI,CAACC,aAAa,CAAC,IAAI,CAACD,cAAc,CAAC;EAC/D;EA2BAE,QAAQ,CAACC,IAAI,EAAE;IACb,MAAQV,MAAM,GAAK,IAAI,CAACF,KAAK,CAACC,OAAO,CAA7BC,MAAM;IAEd,MAAQC,OAAO,GAAK,IAAI,CAACC,KAAK,CAAtBD,OAAO;IAEf,OAAOA,OAAO,IAAIS,IAAI,IAAIT,OAAO,GAAGA,OAAO,CAACS,IAAI,CAAC,GAAGV,MAAM,CAACW,GAAG,CAACD,IAAI,CAAC;EACtE;EAEAE,MAAM,GAAG;IACP;MAAA,QAEW,IAAI,CAACH,QAAQ,CAAC,MAAM,CAAC;MAAA,SACpB,IAAI,CAACA,QAAQ,CAAC,OAAO,CAAC;MAAA,YACnB,IAAI,CAACI;IAAY;EAElC;AACF;AAEAjB,qBAAqB,CAACkB,OAAO,GAAG,CAC9B,eAAe,EACf,UAAU,CACX"}