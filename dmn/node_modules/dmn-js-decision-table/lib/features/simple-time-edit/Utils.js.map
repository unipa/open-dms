{"version":3,"file":"Utils.js","names":["ISO_TIME_REGEX","BETWEEN_TIME_REGEX","BEFORE_AFTER_TIME_REGEX","EXACT_TIME_REGEX","EXACT","BEFORE","AFTER","BETWEEN","validateISOString","string","test","trim","getTimeString","type","times","getSampleTime","time","Date","toISOString","slice","parseString","matches","match"],"sources":["../../../src/features/simple-time-edit/Utils.js"],"sourcesContent":["const ISO_TIME_REGEX = /^(?:\\d\\d:){2}\\d\\d(?:Z|(?:[@+-][^\")]+))?$/;\n\nconst BETWEEN_TIME_REGEX = /^\\[time\\(\"([^\"]*)\"\\)..time\\(\"([^\"]*)\"\\)\\]$/;\n\nconst BEFORE_AFTER_TIME_REGEX = /^(<|>)\\s*time\\(\"([^\"]*)\"\\)$/;\n\nconst EXACT_TIME_REGEX = /^time\\(\"([^\"]*)\"\\)$/;\n\nconst EXACT = 'exact',\n      BEFORE = 'before',\n      AFTER = 'after',\n      BETWEEN = 'between';\n\nexport function validateISOString(string) {\n  if (!ISO_TIME_REGEX.test(string.trim())) {\n    return 'Time must match pattern hh:mm:ss[time zone].';\n  }\n}\n\nexport function getTimeString(type, times) {\n  if (type === EXACT) {\n    return `time(\"${ times[0] }\")`;\n  } else if (type === BEFORE) {\n    return `< time(\"${ times[0] }\")`;\n  } else if (type === AFTER) {\n    return `> time(\"${ times[0] }\")`;\n  } else if (type === BETWEEN) {\n    return `[time(\"${ times[0] }\")..time(\"${ times[1] }\")]`;\n  }\n}\n\nexport function getSampleTime() {\n  const time = new Date();\n\n  return time.toISOString().slice(11, -5) + 'Z';\n}\n\nexport function parseString(string) {\n\n  // emtpy\n  if (!string || string.trim() === '') {\n    return {\n      type: 'exact',\n      time: ''\n    };\n  }\n\n  // between\n  let matches = string.match(BETWEEN_TIME_REGEX);\n\n  if (matches) {\n    return {\n      type: 'between',\n      times: [ matches[1], matches[2] ]\n    };\n  }\n\n  // before or after\n  matches = string.match(BEFORE_AFTER_TIME_REGEX);\n\n  if (matches) {\n    return {\n      type: matches[1] === '<' ? 'before' : 'after',\n      time: matches[2]\n    };\n  }\n\n  // exact\n  matches = string.match(EXACT_TIME_REGEX);\n\n  if (matches) {\n    return {\n      type: 'exact',\n      time: matches[1]\n    };\n  }\n}"],"mappings":"AAAA,MAAMA,cAAc,GAAG,0CAA0C;AAEjE,MAAMC,kBAAkB,GAAG,4CAA4C;AAEvE,MAAMC,uBAAuB,GAAG,6BAA6B;AAE7D,MAAMC,gBAAgB,GAAG,qBAAqB;AAE9C,MAAMC,KAAK,GAAG,OAAO;EACfC,MAAM,GAAG,QAAQ;EACjBC,KAAK,GAAG,OAAO;EACfC,OAAO,GAAG,SAAS;AAEzB,OAAO,SAASC,iBAAiB,CAACC,MAAM,EAAE;EACxC,IAAI,CAACT,cAAc,CAACU,IAAI,CAACD,MAAM,CAACE,IAAI,EAAE,CAAC,EAAE;IACvC,OAAO,8CAA8C;EACvD;AACF;AAEA,OAAO,SAASC,aAAa,CAACC,IAAI,EAAEC,KAAK,EAAE;EACzC,IAAID,IAAI,KAAKT,KAAK,EAAE;IAClB,wBAAiBU,KAAK,CAAC,CAAC,CAAC;EAC3B,CAAC,MAAM,IAAID,IAAI,KAAKR,MAAM,EAAE;IAC1B,0BAAmBS,KAAK,CAAC,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAID,IAAI,KAAKP,KAAK,EAAE;IACzB,0BAAmBQ,KAAK,CAAC,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAID,IAAI,KAAKN,OAAO,EAAE;IAC3B,yBAAkBO,KAAK,CAAC,CAAC,CAAC,yBAAeA,KAAK,CAAC,CAAC,CAAC;EACnD;AACF;AAEA,OAAO,SAASC,aAAa,GAAG;EAC9B,MAAMC,IAAI,GAAG,IAAIC,IAAI,EAAE;EAEvB,OAAOD,IAAI,CAACE,WAAW,EAAE,CAACC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG;AAC/C;AAEA,OAAO,SAASC,WAAW,CAACX,MAAM,EAAE;EAElC;EACA,IAAI,CAACA,MAAM,IAAIA,MAAM,CAACE,IAAI,EAAE,KAAK,EAAE,EAAE;IACnC,OAAO;MACLE,IAAI,EAAE,OAAO;MACbG,IAAI,EAAE;IACR,CAAC;EACH;;EAEA;EACA,IAAIK,OAAO,GAAGZ,MAAM,CAACa,KAAK,CAACrB,kBAAkB,CAAC;EAE9C,IAAIoB,OAAO,EAAE;IACX,OAAO;MACLR,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,CAAEO,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC;IACjC,CAAC;EACH;;EAEA;EACAA,OAAO,GAAGZ,MAAM,CAACa,KAAK,CAACpB,uBAAuB,CAAC;EAE/C,IAAImB,OAAO,EAAE;IACX,OAAO;MACLR,IAAI,EAAEQ,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,QAAQ,GAAG,OAAO;MAC7CL,IAAI,EAAEK,OAAO,CAAC,CAAC;IACjB,CAAC;EACH;;EAEA;EACAA,OAAO,GAAGZ,MAAM,CAACa,KAAK,CAACnB,gBAAgB,CAAC;EAExC,IAAIkB,OAAO,EAAE;IACX,OAAO;MACLR,IAAI,EAAE,OAAO;MACbG,IAAI,EAAEK,OAAO,CAAC,CAAC;IACjB,CAAC;EACH;AACF"}