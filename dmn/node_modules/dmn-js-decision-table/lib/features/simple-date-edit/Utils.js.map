{"version":3,"file":"Utils.js","names":["ISO_DATE_REGEX","BETWEEN_DATE_REGEX","BEFORE_AFTER_DATE_REGEX","EXACT_DATE_REGEX","EXACT","BEFORE","AFTER","BETWEEN","validateISOString","string","test","trim","getDateString","type","dates","getSampleDate","date","Date","setUTCHours","toISOString","slice","parseString","matches","match"],"sources":["../../../src/features/simple-date-edit/Utils.js"],"sourcesContent":["const ISO_DATE_REGEX = /^\\d{4}(?:-\\d\\d){2}$/;\r\n\r\n// eslint-disable-next-line\r\nconst BETWEEN_DATE_REGEX = /^\\[date\\(\"([^\"]*)\"\\)..date\\(\"([^\"]*)\"\\)\\]$/;\r\n\r\n// eslint-disable-next-line\r\nconst BEFORE_AFTER_DATE_REGEX = /^(<|>)\\s*date\\(\"([^\"]*)\"\\)$/;\r\n\r\nconst EXACT_DATE_REGEX = /^date\\(\"([^\"]*)\"\\)$/;\r\n\r\nconst EXACT = 'exact',\r\n      BEFORE = 'before',\r\n      AFTER = 'after',\r\n      BETWEEN = 'between';\r\n\r\nexport function validateISOString(string) {\r\n  if (!ISO_DATE_REGEX.test(string.trim())) {\r\n    return 'Date must match pattern yyyy-MM-dd.';\r\n  }\r\n}\r\n\r\nexport function getDateString(type, dates) {\r\n  if (type === EXACT) {\r\n    return `date(\"${ dates[0] }\")`;\r\n  } else if (type === BEFORE) {\r\n    return `< date(\"${ dates[0] }\")`;\r\n  } else if (type === AFTER) {\r\n    return `> date(\"${ dates[0] }\")`;\r\n  } else if (type === BETWEEN) {\r\n    return `[date(\"${ dates[0] }\")..date(\"${ dates[1] }\")]`;\r\n  }\r\n}\r\n\r\nexport function getSampleDate() {\r\n  const date = new Date();\r\n\r\n  date.setUTCHours(0, 0, 0, 0);\r\n\r\n  return date.toISOString().slice(0, 10);\r\n}\r\n\r\nexport function parseString(string) {\r\n\r\n  // emtpy\r\n  if (!string || string.trim() === '') {\r\n    return {\r\n      type: 'exact',\r\n      date: ''\r\n    };\r\n  }\r\n\r\n  // between\r\n  let matches = string.match(BETWEEN_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'between',\r\n      dates: [ matches[1], matches[2] ]\r\n    };\r\n  }\r\n\r\n  // before or after\r\n  matches = string.match(BEFORE_AFTER_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: matches[1] === '<' ? 'before' : 'after',\r\n      date: matches[2]\r\n    };\r\n  }\r\n\r\n  // exact\r\n  matches = string.match(EXACT_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'exact',\r\n      date: matches[1]\r\n    };\r\n  }\r\n}"],"mappings":"AAAA,MAAMA,cAAc,GAAG,qBAAqB;;AAE5C;AACA,MAAMC,kBAAkB,GAAG,4CAA4C;;AAEvE;AACA,MAAMC,uBAAuB,GAAG,6BAA6B;AAE7D,MAAMC,gBAAgB,GAAG,qBAAqB;AAE9C,MAAMC,KAAK,GAAG,OAAO;EACfC,MAAM,GAAG,QAAQ;EACjBC,KAAK,GAAG,OAAO;EACfC,OAAO,GAAG,SAAS;AAEzB,OAAO,SAASC,iBAAiB,CAACC,MAAM,EAAE;EACxC,IAAI,CAACT,cAAc,CAACU,IAAI,CAACD,MAAM,CAACE,IAAI,EAAE,CAAC,EAAE;IACvC,OAAO,qCAAqC;EAC9C;AACF;AAEA,OAAO,SAASC,aAAa,CAACC,IAAI,EAAEC,KAAK,EAAE;EACzC,IAAID,IAAI,KAAKT,KAAK,EAAE;IAClB,wBAAiBU,KAAK,CAAC,CAAC,CAAC;EAC3B,CAAC,MAAM,IAAID,IAAI,KAAKR,MAAM,EAAE;IAC1B,0BAAmBS,KAAK,CAAC,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAID,IAAI,KAAKP,KAAK,EAAE;IACzB,0BAAmBQ,KAAK,CAAC,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAID,IAAI,KAAKN,OAAO,EAAE;IAC3B,yBAAkBO,KAAK,CAAC,CAAC,CAAC,yBAAeA,KAAK,CAAC,CAAC,CAAC;EACnD;AACF;AAEA,OAAO,SAASC,aAAa,GAAG;EAC9B,MAAMC,IAAI,GAAG,IAAIC,IAAI,EAAE;EAEvBD,IAAI,CAACE,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAE5B,OAAOF,IAAI,CAACG,WAAW,EAAE,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;AACxC;AAEA,OAAO,SAASC,WAAW,CAACZ,MAAM,EAAE;EAElC;EACA,IAAI,CAACA,MAAM,IAAIA,MAAM,CAACE,IAAI,EAAE,KAAK,EAAE,EAAE;IACnC,OAAO;MACLE,IAAI,EAAE,OAAO;MACbG,IAAI,EAAE;IACR,CAAC;EACH;;EAEA;EACA,IAAIM,OAAO,GAAGb,MAAM,CAACc,KAAK,CAACtB,kBAAkB,CAAC;EAE9C,IAAIqB,OAAO,EAAE;IACX,OAAO;MACLT,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,CAAEQ,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC;IACjC,CAAC;EACH;;EAEA;EACAA,OAAO,GAAGb,MAAM,CAACc,KAAK,CAACrB,uBAAuB,CAAC;EAE/C,IAAIoB,OAAO,EAAE;IACX,OAAO;MACLT,IAAI,EAAES,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,QAAQ,GAAG,OAAO;MAC7CN,IAAI,EAAEM,OAAO,CAAC,CAAC;IACjB,CAAC;EACH;;EAEA;EACAA,OAAO,GAAGb,MAAM,CAACc,KAAK,CAACpB,gBAAgB,CAAC;EAExC,IAAImB,OAAO,EAAE;IACX,OAAO;MACLT,IAAI,EAAE,OAAO;MACbG,IAAI,EAAEM,OAAO,CAAC,CAAC;IACjB,CAAC;EACH;AACF"}