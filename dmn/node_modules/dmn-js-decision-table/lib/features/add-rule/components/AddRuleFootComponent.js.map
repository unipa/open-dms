{"version":3,"file":"AddRuleFootComponent.js","names":["Component","inject","AddRuleFootComponent","constructor","props","context","e","stopPropagation","addRule","target","dataset","colIndex","bind","componentWillMount","_eventBus","injector","get","fire","render","cols","cells","sheet","getRoot","businessObject","input","length","push","i","className","placeholder","$instanceOf","handleClick","$inject"],"sources":["../../../../src/features/add-rule/components/AddRuleFootComponent.js"],"sourcesContent":["import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nexport default class AddRuleFootComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n\n    this.addRule = this.addRule.bind(this);\n  }\n\n  componentWillMount() {\n    this._eventBus = this.context.injector.get('eventBus');\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.addRule(e.target.dataset.colIndex);\n  };\n\n  addRule(colIndex) {\n    this._eventBus.fire('addRule', { colIndex });\n  }\n\n  render() {\n    const { cols } = this.props;\n\n    const cells = [\n      <td className=\"add-rule-add\">\n        <span className=\"dmn-icon-plus action-icon\" title=\"Add Rule\"></span>\n      </td>\n    ];\n\n    const { businessObject } = this.sheet.getRoot();\n\n    if (!businessObject.input || !businessObject.input.length) {\n      cells.push(<td className=\"input-cell\">-</td>);\n    }\n\n    for (let i = 0; i < cols.length + 1; i++) {\n      let className = 'add-rule';\n\n      const businessObject = cols[i] && cols[i].businessObject;\n\n      let placeholder = '';\n\n      if (businessObject) {\n        if (businessObject.$instanceOf('dmn:InputClause')) {\n          className += ' input-cell';\n          placeholder = '-';\n        }\n\n        if (businessObject.$instanceOf('dmn:OutputClause')) {\n          className += ' output-cell';\n        }\n      } else {\n        className += ' annotation';\n      }\n\n      cells.push(<td className={ className } data-col-index={ i }>{placeholder}</td>);\n    }\n\n    return (\n      <tfoot\n        className=\"actionable add-rule\"\n        onClick={ this.handleClick }>\n        <tr>\n          { cells }\n        </tr>\n      </tfoot>\n    );\n  }\n}\n\nAddRuleFootComponent.$inject = [ 'sheet' ];\n"],"mappings":";;;;AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,SACEC,MAAM,QACD,yBAAyB;AAEhC,eAAe,MAAMC,oBAAoB,SAASF,SAAS,CAAC;EAC1DG,WAAW,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAAC,qCAWTC,CAAC,IAAK;MACnBA,CAAC,CAACC,eAAe,EAAE;MAEnB,IAAI,CAACC,OAAO,CAACF,CAAC,CAACG,MAAM,CAACC,OAAO,CAACC,QAAQ,CAAC;IACzC,CAAC;IAbCV,MAAM,CAAC,IAAI,CAAC;IAEZ,IAAI,CAACO,OAAO,GAAG,IAAI,CAACA,OAAO,CAACI,IAAI,CAAC,IAAI,CAAC;EACxC;EAEAC,kBAAkB,GAAG;IACnB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACT,OAAO,CAACU,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;EACxD;EAQAR,OAAO,CAACG,QAAQ,EAAE;IAChB,IAAI,CAACG,SAAS,CAACG,IAAI,CAAC,SAAS,EAAE;MAAEN;IAAS,CAAC,CAAC;EAC9C;EAEAO,MAAM,GAAG;IACP,MAAQC,IAAI,GAAK,IAAI,CAACf,KAAK,CAAnBe,IAAI;IAEZ,MAAMC,KAAK,GAAG,sBACE,cAAc,yBACV,2BAA2B;MAAA,SAAO;IAAU,OAE/D;IAED,4BAA2B,IAAI,CAACC,KAAK,CAACC,OAAO,EAAE;MAAvCC,cAAc,uBAAdA,cAAc;IAEtB,IAAI,CAACA,cAAc,CAACC,KAAK,IAAI,CAACD,cAAc,CAACC,KAAK,CAACC,MAAM,EAAE;MACzDL,KAAK,CAACM,IAAI,sBAAe,YAAY,2BAAQ;IAC/C;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,IAAI,CAACM,MAAM,GAAG,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxC,IAAIC,SAAS,GAAG,UAAU;MAE1B,MAAML,cAAc,GAAGJ,IAAI,CAACQ,CAAC,CAAC,IAAIR,IAAI,CAACQ,CAAC,CAAC,CAACJ,cAAc;MAExD,IAAIM,WAAW,GAAG,EAAE;MAEpB,IAAIN,cAAc,EAAE;QAClB,IAAIA,cAAc,CAACO,WAAW,CAAC,iBAAiB,CAAC,EAAE;UACjDF,SAAS,IAAI,aAAa;UAC1BC,WAAW,GAAG,GAAG;QACnB;QAEA,IAAIN,cAAc,CAACO,WAAW,CAAC,kBAAkB,CAAC,EAAE;UAClDF,SAAS,IAAI,cAAc;QAC7B;MACF,CAAC,MAAM;QACLA,SAAS,IAAI,aAAa;MAC5B;MAEAR,KAAK,CAACM,IAAI,sBAAiBE,SAAS,EAAyBC,WAAW;QAAA,kBAAhBF;MAAC,GAAsB;IACjF;IAEA,+BAEc,qBAAqB,6BAG3BP,KAAK;MAAA,WAFC,IAAI,CAACW;IAAW;EAMhC;AACF;AAEA7B,oBAAoB,CAAC8B,OAAO,GAAG,CAAE,OAAO,CAAE"}