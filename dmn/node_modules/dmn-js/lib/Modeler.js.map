{"version":3,"file":"Modeler.js","names":["EditingManager","DrdModeler","DecisionTableEditor","LiteralExpressionEditor","is","containsDi","find","Modeler","_getViewProviders","id","constructor","opens","element","decisionLogic","_getInitialView","views","rest","initialView","view"],"sources":["../src/Modeler.js"],"sourcesContent":["import EditingManager from 'dmn-js-shared/lib/base/EditingManager';\n\nimport DrdModeler from 'dmn-js-drd/lib/Modeler';\nimport DecisionTableEditor from 'dmn-js-decision-table/lib/Editor';\nimport LiteralExpressionEditor from 'dmn-js-literal-expression/lib/Editor';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\n\nimport { find } from 'min-dash';\n\n\n/**\n * The dmn editor.\n */\nexport default class Modeler extends EditingManager {\n\n  _getViewProviders() {\n\n    return [\n      {\n        id: 'drd',\n        constructor: DrdModeler,\n        opens: 'dmn:Definitions'\n      },\n      {\n        id: 'decisionTable',\n        constructor: DecisionTableEditor,\n        opens(element) {\n          return (\n            is(element, 'dmn:Decision') &&\n            is(element.decisionLogic, 'dmn:DecisionTable')\n          );\n        }\n      },\n      {\n        id: 'literalExpression',\n        constructor: LiteralExpressionEditor,\n        opens(element) {\n          return (\n            is(element, 'dmn:Decision') &&\n            is(element.decisionLogic, 'dmn:LiteralExpression')\n          );\n        }\n      }\n    ];\n\n  }\n\n  _getInitialView(views, ...rest) {\n    let initialView = super._getInitialView(views, ...rest);\n\n    if (!initialView) {\n      return;\n    }\n\n    const element = initialView.element;\n\n    // if initial view is definitions without DI, try to open another view\n    if (is(element, 'dmn:Definitions') && !containsDi(element)) {\n      initialView =\n        find(views, view => !is(view.element, 'dmn:Definitions')) || initialView;\n    }\n\n    return initialView;\n  }\n}\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,uCAAuC;AAElE,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,mBAAmB,MAAM,kCAAkC;AAClE,OAAOC,uBAAuB,MAAM,sCAAsC;AAE1E,SAASC,EAAE,QAAQ,kCAAkC;AACrD,SAASC,UAAU,QAAQ,+BAA+B;AAE1D,SAASC,IAAI,QAAQ,UAAU;;AAG/B;AACA;AACA;AACA,eAAe,MAAMC,OAAO,SAASP,cAAc,CAAC;EAElDQ,iBAAiB,GAAG;IAElB,OAAO,CACL;MACEC,EAAE,EAAE,KAAK;MACTC,WAAW,EAAET,UAAU;MACvBU,KAAK,EAAE;IACT,CAAC,EACD;MACEF,EAAE,EAAE,eAAe;MACnBC,WAAW,EAAER,mBAAmB;MAChCS,KAAK,CAACC,OAAO,EAAE;QACb,OACER,EAAE,CAACQ,OAAO,EAAE,cAAc,CAAC,IAC3BR,EAAE,CAACQ,OAAO,CAACC,aAAa,EAAE,mBAAmB,CAAC;MAElD;IACF,CAAC,EACD;MACEJ,EAAE,EAAE,mBAAmB;MACvBC,WAAW,EAAEP,uBAAuB;MACpCQ,KAAK,CAACC,OAAO,EAAE;QACb,OACER,EAAE,CAACQ,OAAO,EAAE,cAAc,CAAC,IAC3BR,EAAE,CAACQ,OAAO,CAACC,aAAa,EAAE,uBAAuB,CAAC;MAEtD;IACF,CAAC,CACF;EAEH;EAEAC,eAAe,CAACC,KAAK,EAAW;IAAA,kCAANC,IAAI;MAAJA,IAAI;IAAA;IAC5B,IAAIC,WAAW,GAAG,KAAK,CAACH,eAAe,CAACC,KAAK,EAAE,GAAGC,IAAI,CAAC;IAEvD,IAAI,CAACC,WAAW,EAAE;MAChB;IACF;IAEA,MAAML,OAAO,GAAGK,WAAW,CAACL,OAAO;;IAEnC;IACA,IAAIR,EAAE,CAACQ,OAAO,EAAE,iBAAiB,CAAC,IAAI,CAACP,UAAU,CAACO,OAAO,CAAC,EAAE;MAC1DK,WAAW,GACTX,IAAI,CAACS,KAAK,EAAEG,IAAI,IAAI,CAACd,EAAE,CAACc,IAAI,CAACN,OAAO,EAAE,iBAAiB,CAAC,CAAC,IAAIK,WAAW;IAC5E;IAEA,OAAOA,WAAW;EACpB;AACF"}