{"version":3,"file":"ElementRegistry.js","names":["ElementRegistry","constructor","viewer","eventBus","_eventBus","_viewer","getDecision","updateId","element","newId","decision","Error","fire","id","$inject"],"sources":["../../src/core/ElementRegistry.js"],"sourcesContent":["/**\n * A single decision element registry.\n *\n * The sole purpose of this service is to provide the necessary API\n * to serve shared components, i.e. the UpdatePropertiesHandler.\n */\nexport default class ElementRegistry {\n\n  constructor(viewer, eventBus) {\n    this._eventBus = eventBus;\n    this._viewer = viewer;\n  }\n\n  getDecision() {\n    return this._viewer.getDecision();\n  }\n\n  updateId(element, newId) {\n\n    var decision = this.getDecision();\n\n    if (element !== decision) {\n      throw new Error('element !== decision');\n    }\n\n    this._eventBus.fire('element.updateId', {\n      element: element,\n      newId: newId\n    });\n\n    element.id = newId;\n  }\n\n}\n\nElementRegistry.$inject = [\n  'viewer',\n  'eventBus'\n];"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMA,eAAe,CAAC;EAEnCC,WAAW,CAACC,MAAM,EAAEC,QAAQ,EAAE;IAC5B,IAAI,CAACC,SAAS,GAAGD,QAAQ;IACzB,IAAI,CAACE,OAAO,GAAGH,MAAM;EACvB;EAEAI,WAAW,GAAG;IACZ,OAAO,IAAI,CAACD,OAAO,CAACC,WAAW,EAAE;EACnC;EAEAC,QAAQ,CAACC,OAAO,EAAEC,KAAK,EAAE;IAEvB,IAAIC,QAAQ,GAAG,IAAI,CAACJ,WAAW,EAAE;IAEjC,IAAIE,OAAO,KAAKE,QAAQ,EAAE;MACxB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IACzC;IAEA,IAAI,CAACP,SAAS,CAACQ,IAAI,CAAC,kBAAkB,EAAE;MACtCJ,OAAO,EAAEA,OAAO;MAChBC,KAAK,EAAEA;IACT,CAAC,CAAC;IAEFD,OAAO,CAACK,EAAE,GAAGJ,KAAK;EACpB;AAEF;AAEAT,eAAe,CAACc,OAAO,GAAG,CACxB,QAAQ,EACR,UAAU,CACX"}