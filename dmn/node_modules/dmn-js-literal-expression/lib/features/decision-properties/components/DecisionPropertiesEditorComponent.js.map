{"version":3,"file":"DecisionPropertiesEditorComponent.js","names":["Component","EditableComponent","DecisionPropertiesEditorComponent","constructor","props","context","forceUpdate","name","_modeling","editDecisionName","_viewer","injector","get","setupChangeListeners","bind","getDecision","id","componentWillUnmount","unbind","changeSupport","offElementsChanged","onElementsChanged","render","resetScroll","setDecisionName","DecisionName","getClassName","getEditor","event","target","scroll"],"sources":["../../../../src/features/decision-properties/components/DecisionPropertiesEditorComponent.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class DecisionPropertiesEditorComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this.setupChangeListeners({\r\n      bind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  getDecision() {\r\n    return this._viewer.getDecision();\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    const {\r\n      changeSupport\r\n    } = this.context;\r\n\r\n    if (typeof unbind === 'string') {\r\n      changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  setDecisionName = (name) => {\r\n    this._modeling.editDecisionName(name);\r\n  };\r\n\r\n  render() {\r\n    const { name } = this.getDecision();\r\n\r\n    return (\r\n      <header className=\"decision-properties\">\r\n        <DecisionName\r\n          className=\"decision-name editor\"\r\n          value={ name }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionName } />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nclass DecisionName extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <h3 className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </h3>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n"],"mappings":";;;;AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAOC,iBAAiB,MAAM,gDAAgD;AAG9E,eAAe,MAAMC,iCAAiC,SAASF,SAAS,CAAC;EAEvEG,WAAW,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAAC,2CAoBJ,MAAM;MACxB,IAAI,CAACC,WAAW,EAAE;IACpB,CAAC;IAAA,yCAiBkBC,IAAI,IAAK;MAC1B,IAAI,CAACC,SAAS,CAACC,gBAAgB,CAACF,IAAI,CAAC;IACvC,CAAC;IAvCC,IAAI,CAACG,OAAO,GAAGL,OAAO,CAACM,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC;IAC7C,IAAI,CAACJ,SAAS,GAAGH,OAAO,CAACM,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;IAEjD,IAAI,CAACC,oBAAoB,CAAC;MACxBC,IAAI,EAAE,IAAI,CAACC,WAAW,EAAE,CAACC;IAC3B,CAAC,CAAC;EACJ;EAEAC,oBAAoB,GAAG;IACrB,IAAI,CAACJ,oBAAoB,CAAC;MACxBK,MAAM,EAAE,IAAI,CAACH,WAAW,EAAE,CAACC;IAC7B,CAAC,CAAC;EACJ;EAEAD,WAAW,GAAG;IACZ,OAAO,IAAI,CAACL,OAAO,CAACK,WAAW,EAAE;EACnC;EAMAF,oBAAoB,OAAmB;IAAA,IAAhBC,IAAI,QAAJA,IAAI;MAAEI,MAAM,QAANA,MAAM;IAEjC,MACEC,aAAa,GACX,IAAI,CAACd,OAAO,CADdc,aAAa;IAGf,IAAI,OAAOD,MAAM,KAAK,QAAQ,EAAE;MAC9BC,aAAa,CAACC,kBAAkB,CAACF,MAAM,EAAE,IAAI,CAACG,iBAAiB,CAAC;IAClE;IAEA,IAAI,OAAOP,IAAI,KAAK,QAAQ,EAAE;MAC5BK,aAAa,CAACE,iBAAiB,CAACP,IAAI,EAAE,IAAI,CAACO,iBAAiB,CAAC;IAC/D;EACF;EAMAC,MAAM,GAAG;IACP,0BAAiB,IAAI,CAACP,WAAW,EAAE;MAA3BR,IAAI,qBAAJA,IAAI;IAEZ,gCACoB,qBAAqB;MAAA,aAEzB,sBAAsB;MAAA,SACxBA,IAAI;MAAA,UACHgB,WAAW;MAAA,YACT,IAAI,CAACC;IAAe;EAGvC;AACF;AAEA,MAAMC,YAAY,SAASxB,iBAAiB,CAAC;EAE3CqB,MAAM,GAAG;IAEP,4BACkB,IAAI,CAACI,YAAY,EAAE,EAC/B,IAAI,CAACC,SAAS,EAAE;EAGxB;AAEF;AAEA,SAASJ,WAAW,CAACK,KAAK,EAAE;EAC1BA,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3B"}