{"version":3,"file":"DrdKeyboardBindings.js","names":["inherits","KeyboardBindings","DrdKeyboardBindings","injector","invoke","$inject","prototype","registerBindings","keyboard","editorActions","call","addListener","action","fn","isRegistered","context","event","keyEvent","isKey","isCmd","trigger","hasModifier"],"sources":["../../../src/features/keyboard/DrdKeyboardBindings.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport KeyboardBindings from 'diagram-js/lib/features/keyboard/KeyboardBindings';\n\n\n/**\n * DRD specific key bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nexport default function DrdKeyboardBindings(injector) {\n  injector.invoke(KeyboardBindings, this);\n}\n\ninherits(DrdKeyboardBindings, KeyboardBindings);\n\nDrdKeyboardBindings.$inject = [\n  'injector'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nDrdKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(this, keyboard, editorActions);\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // select all elements\n  // CTRL + A\n  addListener('selectElements', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.isKey([ 'a', 'A' ], event) && keyboard.isCmd(event)) {\n      editorActions.trigger('selectElements');\n\n      return true;\n    }\n  });\n\n  // activate lasso tool\n  // L\n  addListener('lassoTool', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([ 'l', 'L' ], event)) {\n      editorActions.trigger('lassoTool');\n\n      return true;\n    }\n  });\n\n  // activate hand tool\n  // H\n  addListener('handTool', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([ 'h', 'H' ], event)) {\n      editorActions.trigger('handTool');\n\n      return true;\n    }\n  });\n\n  // activate direct editing\n  // E\n  addListener('directEditing', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([ 'e', 'E' ], event)) {\n      editorActions.trigger('directEditing');\n\n      return true;\n    }\n  });\n\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,gBAAgB,MAAM,mDAAmD;;AAGhF;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,mBAAmB,CAACC,QAAQ,EAAE;EACpDA,QAAQ,CAACC,MAAM,CAACH,gBAAgB,EAAE,IAAI,CAAC;AACzC;AAEAD,QAAQ,CAACE,mBAAmB,EAAED,gBAAgB,CAAC;AAE/CC,mBAAmB,CAACG,OAAO,GAAG,CAC5B,UAAU,CACX;;AAGD;AACA;AACA;AACA;AACA;AACA;AACAH,mBAAmB,CAACI,SAAS,CAACC,gBAAgB,GAAG,UAASC,QAAQ,EAAEC,aAAa,EAAE;EAEjF;EACAR,gBAAgB,CAACK,SAAS,CAACC,gBAAgB,CAACG,IAAI,CAAC,IAAI,EAAEF,QAAQ,EAAEC,aAAa,CAAC;;EAE/E;AACF;AACA;AACA;AACA;AACA;AACA;EACE,SAASE,WAAW,CAACC,MAAM,EAAEC,EAAE,EAAE;IAE/B,IAAIJ,aAAa,CAACK,YAAY,CAACF,MAAM,CAAC,EAAE;MACtCJ,QAAQ,CAACG,WAAW,CAACE,EAAE,CAAC;IAC1B;EACF;;EAEA;EACA;EACAF,WAAW,CAAC,gBAAgB,EAAE,UAASI,OAAO,EAAE;IAE9C,IAAIC,KAAK,GAAGD,OAAO,CAACE,QAAQ;IAE5B,IAAIT,QAAQ,CAACU,KAAK,CAAC,CAAE,GAAG,EAAE,GAAG,CAAE,EAAEF,KAAK,CAAC,IAAIR,QAAQ,CAACW,KAAK,CAACH,KAAK,CAAC,EAAE;MAChEP,aAAa,CAACW,OAAO,CAAC,gBAAgB,CAAC;MAEvC,OAAO,IAAI;IACb;EACF,CAAC,CAAC;;EAEF;EACA;EACAT,WAAW,CAAC,WAAW,EAAE,UAASI,OAAO,EAAE;IAEzC,IAAIC,KAAK,GAAGD,OAAO,CAACE,QAAQ;IAE5B,IAAIT,QAAQ,CAACa,WAAW,CAACL,KAAK,CAAC,EAAE;MAC/B;IACF;IAEA,IAAIR,QAAQ,CAACU,KAAK,CAAC,CAAE,GAAG,EAAE,GAAG,CAAE,EAAEF,KAAK,CAAC,EAAE;MACvCP,aAAa,CAACW,OAAO,CAAC,WAAW,CAAC;MAElC,OAAO,IAAI;IACb;EACF,CAAC,CAAC;;EAEF;EACA;EACAT,WAAW,CAAC,UAAU,EAAE,UAASI,OAAO,EAAE;IAExC,IAAIC,KAAK,GAAGD,OAAO,CAACE,QAAQ;IAE5B,IAAIT,QAAQ,CAACa,WAAW,CAACL,KAAK,CAAC,EAAE;MAC/B;IACF;IAEA,IAAIR,QAAQ,CAACU,KAAK,CAAC,CAAE,GAAG,EAAE,GAAG,CAAE,EAAEF,KAAK,CAAC,EAAE;MACvCP,aAAa,CAACW,OAAO,CAAC,UAAU,CAAC;MAEjC,OAAO,IAAI;IACb;EACF,CAAC,CAAC;;EAEF;EACA;EACAT,WAAW,CAAC,eAAe,EAAE,UAASI,OAAO,EAAE;IAE7C,IAAIC,KAAK,GAAGD,OAAO,CAACE,QAAQ;IAE5B,IAAIT,QAAQ,CAACa,WAAW,CAACL,KAAK,CAAC,EAAE;MAC/B;IACF;IAEA,IAAIR,QAAQ,CAACU,KAAK,CAAC,CAAE,GAAG,EAAE,GAAG,CAAE,EAAEF,KAAK,CAAC,EAAE;MACvCP,aAAa,CAACW,OAAO,CAAC,eAAe,CAAC;MAEtC,OAAO,IAAI;IACb;EACF,CAAC,CAAC;AAEJ,CAAC"}