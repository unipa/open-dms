{"version":3,"file":"UpdateLabelHandler.js","names":["getLabel","setLabel","UpdateLabelHandler","setText","element","text","label","labelTarget","execute","ctx","oldLabel","newLabel","revert"],"sources":["../../../../src/features/label-editing/cmd/UpdateLabelHandler.js"],"sourcesContent":["import {\n  getLabel,\n  setLabel\n} from '../LabelUtil';\n\n\n/**\n * A handler that updates the name of a DMN element.\n */\nexport default function UpdateLabelHandler() {\n\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {string} text\n   */\n  function setText(element, text) {\n\n    // external label if present\n    var label = element.label || element;\n\n    var labelTarget = element.labelTarget || element;\n\n    setLabel(label, text, labelTarget !== label);\n\n    return [ label, labelTarget ];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  }\n\n  // API\n\n  this.execute = execute;\n  this.revert = revert;\n}\n"],"mappings":"AAAA,SACEA,QAAQ,EACRC,QAAQ,QACH,cAAc;;AAGrB;AACA;AACA;AACA,eAAe,SAASC,kBAAkB,GAAG;EAE3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,SAASC,OAAO,CAACC,OAAO,EAAEC,IAAI,EAAE;IAE9B;IACA,IAAIC,KAAK,GAAGF,OAAO,CAACE,KAAK,IAAIF,OAAO;IAEpC,IAAIG,WAAW,GAAGH,OAAO,CAACG,WAAW,IAAIH,OAAO;IAEhDH,QAAQ,CAACK,KAAK,EAAED,IAAI,EAAEE,WAAW,KAAKD,KAAK,CAAC;IAE5C,OAAO,CAAEA,KAAK,EAAEC,WAAW,CAAE;EAC/B;EAEA,SAASC,OAAO,CAACC,GAAG,EAAE;IACpBA,GAAG,CAACC,QAAQ,GAAGV,QAAQ,CAACS,GAAG,CAACL,OAAO,CAAC;IACpC,OAAOD,OAAO,CAACM,GAAG,CAACL,OAAO,EAAEK,GAAG,CAACE,QAAQ,CAAC;EAC3C;EAEA,SAASC,MAAM,CAACH,GAAG,EAAE;IACnB,OAAON,OAAO,CAACM,GAAG,CAACL,OAAO,EAAEK,GAAG,CAACC,QAAQ,CAAC;EAC3C;;EAEA;;EAEA,IAAI,CAACF,OAAO,GAAGA,OAAO;EACtB,IAAI,CAACI,MAAM,GAAGA,MAAM;AACtB"}