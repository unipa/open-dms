{"version":3,"file":"ReplaceElementBehavior.js","names":["inherits","CommandInterceptor","ReplaceElementBehaviour","eventBus","modeling","selection","call","_modeling","postExecuted","e","context","oldShape","newShape","unclaimId","businessObject","id","updateProperties","select","$inject"],"sources":["../../../../src/features/modeling/behavior/ReplaceElementBehavior.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Defines the behaviour of what happens to the elements inside a container\n * that morphs into another DRD element\n */\nexport default function ReplaceElementBehaviour(eventBus, modeling, selection) {\n  CommandInterceptor.call(this, eventBus);\n\n  this._modeling = modeling;\n\n  this.postExecuted([ 'shape.replace' ], 1500, function(e) {\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n\n\n    modeling.unclaimId(oldShape.businessObject.id, oldShape.businessObject);\n    modeling.updateProperties(newShape, { id: oldShape.id });\n    selection.select(newShape);\n  });\n}\n\ninherits(ReplaceElementBehaviour, CommandInterceptor);\n\nReplaceElementBehaviour.$inject = [ 'eventBus', 'modeling', 'selection' ];\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,kBAAkB;AAEvC,OAAOC,kBAAkB,MAAM,2CAA2C;;AAG1E;AACA;AACA;AACA;AACA,eAAe,SAASC,uBAAuB,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,EAAE;EAC7EJ,kBAAkB,CAACK,IAAI,CAAC,IAAI,EAAEH,QAAQ,CAAC;EAEvC,IAAI,CAACI,SAAS,GAAGH,QAAQ;EAEzB,IAAI,CAACI,YAAY,CAAC,CAAE,eAAe,CAAE,EAAE,IAAI,EAAE,UAASC,CAAC,EAAE;IACvD,IAAIC,OAAO,GAAGD,CAAC,CAACC,OAAO;MACnBC,QAAQ,GAAGD,OAAO,CAACC,QAAQ;MAC3BC,QAAQ,GAAGF,OAAO,CAACE,QAAQ;IAG/BR,QAAQ,CAACS,SAAS,CAACF,QAAQ,CAACG,cAAc,CAACC,EAAE,EAAEJ,QAAQ,CAACG,cAAc,CAAC;IACvEV,QAAQ,CAACY,gBAAgB,CAACJ,QAAQ,EAAE;MAAEG,EAAE,EAAEJ,QAAQ,CAACI;IAAG,CAAC,CAAC;IACxDV,SAAS,CAACY,MAAM,CAACL,QAAQ,CAAC;EAC5B,CAAC,CAAC;AACJ;AAEAZ,QAAQ,CAACE,uBAAuB,EAAED,kBAAkB,CAAC;AAErDC,uBAAuB,CAACgB,OAAO,GAAG,CAAE,UAAU,EAAE,UAAU,EAAE,WAAW,CAAE"}