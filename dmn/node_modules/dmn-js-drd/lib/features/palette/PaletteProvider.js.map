{"version":3,"file":"PaletteProvider.js","names":["assign","PaletteProvider","palette","create","elementFactory","handTool","lassoTool","translate","_palette","_create","_elementFactory","_handTool","_lassoTool","_translate","registerProvider","$inject","prototype","getPaletteEntries","element","actions","createAction","type","group","className","title","options","createListener","event","shape","createShape","start","action","dragstart","click","activateHand","activateSelection","separator"],"sources":["../../../src/features/palette/PaletteProvider.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\n\n\n/**\n * A palette provider for DMN elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    handTool, lassoTool, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._handTool = handTool;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'handTool',\n  'lassoTool',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      handTool = this._handTool,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'dmn-icon-hand-tool',\n      title: translate('Activate the hand tool'),\n      action: {\n        click: function(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction(\n      'dmn:Decision', 'drd', 'dmn-icon-decision', translate('Create Decision')\n    ),\n    'create.input-data': createAction(\n      'dmn:InputData', 'drd', 'dmn-icon-input-data', translate('Create Input Data')\n    ),\n    'create.knowledge-source': createAction(\n      'dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source',\n      translate('Create Knowledge Source')\n    ),\n    'create.business-knowledge-model': createAction(\n      'dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge',\n      translate('Create Knowledge Model')\n    )\n  });\n\n  return actions;\n};\n"],"mappings":"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"}